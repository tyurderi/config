module.exports = Class.create({

    $container: null,

    config: null,

    constructor: function($container, config)
    {
        var me = this;

        me.$container = $container;
        me.config     = config;
    },

    load: function()
    {
        var me  = this,
            url = __url('config/loadFields'); //me.$container.attr('data-loadFieldsUrl');

        $.get(url, { id: me.config.id }, function(response) {
            response.data.forEach(function(field) {
                field.field_type = JSON.parse(field.field_type);

                me.$container.append(JCache.get('form_builder').create(field));
            })
        })
    }

});