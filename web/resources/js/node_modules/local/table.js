/**
 * Component to build and modify simple DOM tables.
 */
module.exports = require('class-js2').create({

    columns: [],

    $parent: null,
    $table: null,

    constructor: function()
    {
        var me = this;

        me.$table = $('<table />');

        me.$table.$head = $('<thead />', {
            html: $('<tr />')
        }).appendTo(me.$table);

        me.$table.$body = $('<tbody />', {

        }).appendTo(me.$table);
    },
    insert: function($parent)
    {
        if(!this.$parent)
        {
            this.$parent = $parent;
            this.$table.appendTo(this.$parent);
        }
    },
    addColumn: function(name, description)
    {
        var $column = $('<th />', {
            html: description
        });

        $column.appendTo(this.$table.$head.find('tr'));
        $column.name = name;

        this.columns.push($column);

        return $column;
    },
    getColumn: function(name)
    {
        for(var i = 0; i < this.columns.length; i++)
        {
            if(this.columns[i].name == name)
            {
                return this.columns[i];
            }
        }
    }
});